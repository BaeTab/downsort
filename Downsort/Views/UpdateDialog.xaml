<Window x:Class="Downsort.Views.UpdateDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Update Available" 
        Height="550" 
        Width="600"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="#F5F7FA">
    
    <Window.Resources>
        <Style x:Key="HeaderStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="#1976D2"/>
            <Setter Property="Margin" Value="0,0,0,10"/>
        </Style>
        
        <Style x:Key="LabelStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="#546E7A"/>
            <Setter Property="Margin" Value="0,0,8,0"/>
        </Style>
        
        <Style x:Key="ValueStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Foreground" Value="#263238"/>
        </Style>
        
        <Style x:Key="ButtonStyle" TargetType="Button">
            <Setter Property="Height" Value="36"/>
            <Setter Property="Padding" Value="20,0"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="BorderThickness" Value="0"/>
        </Style>
    </Window.Resources>
    
    <Border BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="4">
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            
            <!-- Header -->
            <StackPanel Grid.Row="0" Margin="0,0,0,20">
                <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                    <Path Data="M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C9.4,22 7.1,20.9 5.5,19.1L8,16.6C9,17.5 10.4,18 12,18A6,6 0 0,0 18,12A6,6 0 0,0 12,6C10.3,6 8.9,6.7 7.8,7.8L10,10H4V4L6.2,6.2C7.9,4.4 10.1,3 12,3A9,9 0 0,1 21,12A9,9 0 0,1 12,21C9.9,21 8,20.2 6.4,18.9L4.9,20.4C6.8,22 9.3,23 12,23A10,10 0 0,1 12,2Z"
                          Fill="#4CAF50" 
                          Width="32" 
                          Height="32" 
                          Stretch="Uniform"
                          Margin="0,0,15,0"/>
                    <StackPanel>
                        <TextBlock Style="{StaticResource HeaderStyle}" Text="New Update Available!"/>
                        <TextBlock Style="{StaticResource LabelStyle}" 
                                   Text="A new version of DownSort is available." 
                                   Foreground="#757575"/>
                    </StackPanel>
                </StackPanel>
                
                <Border Background="White" 
                        BorderBrush="#E0E0E0" 
                        BorderThickness="1" 
                        CornerRadius="4"
                        Padding="15">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Grid.Row="0" Grid.Column="0" 
                                   Style="{StaticResource LabelStyle}" 
                                   Text="Current:"/>
                        <TextBlock Grid.Row="0" Grid.Column="1" 
                                   x:Name="TxtCurrentVersion"
                                   Style="{StaticResource ValueStyle}"/>
                        
                        <TextBlock Grid.Row="0" Grid.Column="2" 
                                   Style="{StaticResource LabelStyle}" 
                                   Text="Release:"/>
                        <TextBlock Grid.Row="0" Grid.Column="3" 
                                   x:Name="TxtReleaseName"
                                   Style="{StaticResource ValueStyle}"/>
                        
                        <TextBlock Grid.Row="1" Grid.Column="0" 
                                   Style="{StaticResource LabelStyle}" 
                                   Text="New Version:"
                                   Margin="0,8,8,0"/>
                        <TextBlock Grid.Row="1" Grid.Column="1" 
                                   x:Name="TxtNewVersion"
                                   Style="{StaticResource ValueStyle}"
                                   FontWeight="Bold"
                                   Foreground="#4CAF50"
                                   Margin="0,8,0,0"/>
                        
                        <TextBlock Grid.Row="1" Grid.Column="2" 
                                   Style="{StaticResource LabelStyle}" 
                                   Text="Date:"
                                   Margin="0,8,8,0"/>
                        <TextBlock Grid.Row="1" Grid.Column="3" 
                                   x:Name="TxtReleaseDate"
                                   Style="{StaticResource ValueStyle}"
                                   Margin="0,8,0,0"/>
                    </Grid>
                </Border>
            </StackPanel>
            
            <!-- Release Notes -->
            <StackPanel Grid.Row="2">
                <TextBlock Style="{StaticResource LabelStyle}" 
                           Text="Changes" 
                           FontSize="14"
                           Margin="0,0,0,10"/>
                <Border Background="White" 
                        BorderBrush="#E0E0E0" 
                        BorderThickness="1" 
                        CornerRadius="4">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" 
                                  MaxHeight="200">
                        <TextBlock x:Name="TxtReleaseNotes"
                                   Padding="15"
                                   TextWrapping="Wrap"
                                   FontFamily="Consolas"
                                   FontSize="11"
                                   Foreground="#546E7A"/>
                    </ScrollViewer>
                </Border>
            </StackPanel>
            
            <!-- Progress -->
            <StackPanel Grid.Row="3" Margin="0,15,0,0">
                <TextBlock x:Name="TxtStatus" 
                           Style="{StaticResource LabelStyle}"
                           Visibility="Collapsed"/>
                <ProgressBar x:Name="ProgressBar"
                             Height="6"
                             Visibility="Collapsed"
                             Margin="0,5,0,0"/>
                <TextBlock x:Name="TxtProgress"
                           Style="{StaticResource LabelStyle}"
                           HorizontalAlignment="Right"
                           Visibility="Collapsed"
                           Margin="0,5,0,0"/>
            </StackPanel>
            
            <!-- Buttons -->
            <Grid Grid.Row="4" Margin="0,20,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <Button Grid.Column="0"
                        x:Name="BtnViewOnGitHub"
                        Content="View on GitHub"
                        Style="{StaticResource ButtonStyle}"
                        Background="Transparent"
                        Foreground="#1976D2"
                        BorderBrush="#1976D2"
                        BorderThickness="1"
                        Click="BtnViewOnGitHub_Click"/>
                
                <Button Grid.Column="2"
                        x:Name="BtnLater"
                        Content="Later"
                        Style="{StaticResource ButtonStyle}"
                        Background="#BDBDBD"
                        Foreground="White"
                        Margin="0,0,10,0"
                        Click="BtnLater_Click"/>
                
                <Button Grid.Column="3"
                        x:Name="BtnUpdate"
                        Content="Update Now"
                        Style="{StaticResource ButtonStyle}"
                        Background="#4CAF50"
                        Foreground="White"
                        Click="BtnUpdate_Click"/>
            </Grid>
        </Grid>
    </Border>
</Window>
